<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:b="http://bootsfaces.net/ui">
    <h:head>
        <title>perfil Personal</title>
        <meta name="viewoport" content="width=device-width, initial-scale=2.0"/>
        <link data-prerender="keep" rel="icon" type="image/png"  href="../images/logo1.png"/>
    </h:head>
    <h:body>
        <br></br>
        <center>
            <div>
                <h:graphicImage value="../images/logo.png" width="300" height="100"/>
                <br></br>
                
                <h:form>
                    <p:autoUpdate/>
                </h:form>
                
                <p:growl>
                    <p:autoUpdate/>
                </p:growl>
                
                <h:form id="form1">
                    <p:panel id="panel1" header="Perfil de Personal" style="width: 50%; align-content: center; text-align: center;">  
                        <h:panelGrid columns="2" cellspacing="8" style="margin: auto;">

                                <h:outputLabel for="primer_nombre" value="Primer Nombre"/>
                                <p:inputText id='primer_nombre' required="true" maxlength="15" requiredMessage="Primer nombre obligatorio" value="#{bean_perfilpersonal.primerNombre}"/>

                                <h:outputLabel for="segundo_nombre" value="Segundo Nombre"/>
                                <p:inputText id='segundo_nombre'  maxlength="15" value="#{bean_perfilpersonal.segundoNombre}"/>

                                <h:outputLabel for="tercer_nombre" value="Tercer Nombre"/>
                                <p:inputText id='tercer_nombre'  maxlength="15" value="#{bean_perfilpersonal.tercerNombre}"/> 

                                <h:outputLabel for="primer_apellido" value="Primer Apellido" />
                                <p:inputText id='primer_apellido' required="true" maxlength="15" requiredMessage="Primer apellido obligatorio" value="#{bean_perfilpersonal.primerApellido}"/>

                                <h:outputLabel for="segundo_apellido" value="Segundo Apellido"/>
                                <p:inputText id='segundo_apellido' required="true" maxlength="15" value="#{bean_perfilpersonal.segundoApellido}"/>

                                <h:outputLabel for="tercer_apellido" value="Tercer Apellido"/>
                                <p:inputText id='tercer_apellido'  maxlength="15" value="#{bean_perfilpersonal.tercerApellido}"/>
                                
                                <h:outputLabel for="Edad" value="Edad"/>
                                <p:inputMask id='Edad'  maxlength="2"  mask="99" value="#{bean_perfilpersonal.edad}"/>

                                <h:outputLabel for="sexo" value="Sexo:" style="width:150px"/>
                                <p:selectOneRadio id="sexo" value="#{bean_perfilpersonal.sexo}">
                                    <f:selectItem itemLabel="Femenino" itemValue="Femenino"/>
                                    <f:selectItem itemLabel="Masculino" itemValue="Masculino"/>
                                </p:selectOneRadio>

                                <h:outputLabel for="city" value="País de Origen:"/>
                                <p:selectOneMenu id="city" value="#{bean_perfilpersonal.pais}">
                                    <f:selectItems value="#{bean_perfilpersonal.listaPais}" var="q" itemLabel="#{q.nombrePais}" itemValue="#{q.idPais}"/>
                                </p:selectOneMenu>

                                <h:outputLabel for="dui" value="DUI"/>
                                <p:inputMask mask="99999999-9" id='dui'  maxlength="12" value="#{bean_perfilpersonal.dui}"/>

                                <h:outputLabel for="nit" value="NIT"/>
                                <p:inputMask mask="9999-999999-999-9" id='nit'  maxlength="20" value="#{bean_perfilpersonal.nit}"/>

                                <h:outputLabel for="pasaporte" value="*Número de pasaporte:"/>
                                <p:inputText id='estado_civil' required="false" maxlength="11" value="#{bean_perfilpersonal.pasaporte}"/>

                                <h:outputText value="*Rellene este campo si el pais " style="font-size: 12px; margin-left: 60px; margin-top: 0px"/>
                                <h:outputText value="de origen es diferente a El Salvador" style="font-size: 12px"/>

                                <h:outputLabel for="direccion" value="Dirección"/>
                                <p:inputText id='direccion' required="true" maxlength="15" value="#{bean_perfilpersonal.direccion}"/>

                                <h:outputLabel for="telefono" value="Telefono"/>
                                <p:inputMask mask="9999-9999" id='telefono' required="true" maxlength="10" requiredMessage="Telefono obligatorio" value="#{bean_perfilpersonal.telefono}"/>

                                <h:outputLabel for="celular" value="Celular"/>
                                <p:inputMask mask="9999-9999" id='celular' required="true" maxlength="10" requiredMessage="Celular obligatorio" value="#{bean_perfilpersonal.celular}"/>

                                <h:outputLabel for="fecha_contrato" value="Fecha de Contratación"/>
                                <p:calendar id="fecha_nacimiento" value="#{bean_perfilpersonal.fecha}" showOn="button"
                                            readonlyInput="true" required="true" locale="es" navigator="true" requiredMessage="La fecha es obligatoria"
                                            pattern="dd/MM/yyyy"/>

                                <h:outputLabel for="correo" value="E-mail:"/>
                                <p:inputText id="correo" required="true" maxlength="20" requiredMessage="Dirección de correo obligatoria" value="#{bean_perfilpersonal.mail}"/>

                                <p:outputLabel for="rol" value="Papel que desempeña:"/>

                                <!--creamos un select donde ponemos de value donde se va a guardar la info-->
                                <p:selectOneMenu id="rol" value="#{bean_perfilpersonal.rol}">
                                    <!--hacemos un selectItems donde ponemos el bean que tiene el objeto list que hicimos-->
                                    <!--le agrecamos un var para poner la info que queramos que se muestre y que se envie-->
                                    <f:selectItems value="#{bean_perfilpersonal.listarol}" var="c" itemLabel="#{c.rol}" itemValue="#{c.idRol}" />
                                </p:selectOneMenu>

                                <!--<p:commandButton icon="ui-icon-plusthick" update="especialidad" onclick="PF('ventanaespecialidad').show();" actionListener="{bean_especialidad.mostrarusuario}"/>-->
                            </h:panelGrid>
                        <br></br>
                            <p:commandButton style="background-color:skyblue ; border-radius: 10px; font-size: 15px" value="Especialidad" onclick="PF('ventanaespecialidad').show();" update="form_especialidad" />
                    </p:panel>
                    <br></br>
                    <h:form>
                        <b:commandButton style="width:120px; height: 40px; font-size: 15px" look="primary" value="GUARDAR" action="#{bean_perfilpersonal.Insertarperfil}"/>
                        <b:commandButton style="width:120px; height: 40px;" look="danger" value="VER PERSONAL" action="tabla_perfil_personal?faces-redirect=true"/>
                  
                    </h:form>
                    <br></br>
                </h:form>
                
                
                <!--MODAL PANEL PARA ELEGIR ESPECIALIDAD-->
                <h:form>
                    <p:autoUpdate/>
                </h:form>
                
                <p:dialog header="Especialidad de Usuario" widgetVar="ventanaespecialidad" modal="true" showEffect="fold" hideEffect="puff">
                    <h:form id="form_especialidad">
                        <p:panel id="panel_especialidad">
                            <p:panelGrid columns="1" style=" text-align: center;">
                                <p:outputLabel for="especialidad" value="Especialidad que posee" style="font-size: 15px; font-style: inherit;"/>
                            <p:selectOneMenu id="especialidad" value="#">
                                <f:selectItems value="#{bean_perfilpersonal.listaespecialidad}" var="c" itemLabel="#{c.especialidad}" itemValue="#{c.idEspecialidad}"/>
                            </p:selectOneMenu> 
                                <p:commandButton value="Agregar" action="#{bean_perfilpersonal.insertar_perfil_especialidad}" update="form1" onclick="PF('ventanaespecialidad').hide();"/>
                            </p:panelGrid>
                        </p:panel>
                    </h:form>
                </p:dialog>





            </div>
        </center>
    </h:body>
</html>

